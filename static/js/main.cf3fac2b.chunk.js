(this["webpackJsonpselector-tests"]=this["webpackJsonpselector-tests"]||[]).push([[0],{36:function(e,t,n){},42:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var r,c,o,s,u,i,l,a,j=n(1),d=n.n(j),b=n(21),O=n.n(b),h=(n(36),n(17)),f=(n(42),n(12)),x=n(3),v=n(4),p=n.n(v),m=n(10),g=n(6),k=function(e){return e.counters.counters},y=function(e){return e.counters.intervalId},C=Object(g.b)("counters/stop",function(){var e=Object(m.a)(p.a.mark((function e(t,n){var r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.dispatch,r=n.getState,c=y(r()),window.clearInterval(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),S=Object(g.b)("counters/start",function(){var e=Object(m.a)(p.a.mark((function e(t,n){var r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,c=n.getState,e.abrupt("return",window.setInterval((function(){var e=k(c()).filter((function(e){return Math.random()<.01})).map((function(e){return e.key}));r(K(e))}),5));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),{condition:function(e,t){var n=t.getState;return null==y(n())}}),w=Object(g.c)({name:"counters",initialState:{counters:[]},reducers:{addCounter:function(e,t){for(var n=0;n<t.payload;n++)e.counters.push({key:Object(g.d)(),counter:0,group:Math.random()>=.5?"a":"b"});return e},incrementCounters:function(e,t){return e.counters.filter((function(e){return t.payload.includes(e.key)})).forEach((function(e){return e.counter++})),e},removeCounters:function(e,t){return e.counters=e.counters.filter((function(e){return!t.payload.includes(e.key)})),e},clearCounters:function(e){return e.counters=[],e}},extraReducers:function(e){e.addCase(S.fulfilled,(function(e,t){return e.intervalId=t.payload,e})),e.addCase(C.fulfilled,(function(e){return e.intervalId=void 0,e}))}}),N=w.reducer,A=w.actions,K=A.incrementCounters,R=A.addCounter,T=A.removeCounters,M=A.clearCounters,I=Object(g.a)({reducer:{counters:N}}),B=n(5),F=h.c,G=Object(g.b)("counters/churn",function(){var e=Object(m.a)(p.a.mark((function e(t,n){var r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,c=n.getState,e.abrupt("return",window.setInterval((function(){var e,t=null!==(e=k(c()))&&void 0!==e?e:[],n=t.filter((function(e){return Math.random()<.01})).map((function(e){return e.key}));if(r(K(n)),0===t.length||Math.random()<.005){var o=Math.floor(10*Math.random());r(R(o))}if(Math.random()<.005){var s=t.filter((function(e){return!n.includes(e.key)&&Math.random()<.1})).map((function(e){return e.key}));r(T(s))}}),5));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),{condition:function(e,t){var n=t.getState;return null==y(n())}}),E=n(0),J=function(){var e=Object(h.b)(),t=Object(j.useCallback)(Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(S());case 2:case"end":return t.stop()}}),t)}))),[e]),n=Object(j.useCallback)(Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(G());case 2:case"end":return t.stop()}}),t)}))),[e]),r=Object(j.useCallback)(function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(R(n));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),c=Object(j.useCallback)(Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(C());case 2:case"end":return t.stop()}}),t)}))),[e]),o=Object(j.useCallback)(Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(M());case 2:case"end":return t.stop()}}),t)}))),[e]);return Object(E.jsxs)("div",{children:[Object(E.jsx)("button",{onClick:function(){r(1)},children:"Add Counter"}),Object(E.jsx)("button",{onClick:function(){r(10)},children:"Add 10 Counters"}),Object(E.jsx)("button",{onClick:function(){r(100)},children:"Add 100 Counters"}),Object(E.jsx)("button",{onClick:t,children:"Start"}),Object(E.jsx)("button",{onClick:n,children:"Start Churn"}),Object(E.jsx)("button",{onClick:c,children:"Stop"}),Object(E.jsx)("button",{onClick:o,children:"Clear"})]})},L=function(e){var t=e.children;return Object(E.jsxs)("table",{children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Key"}),Object(E.jsx)("th",{children:"Counter"}),Object(E.jsx)("th",{children:"Group"})]})}),Object(E.jsx)("tbody",{children:t})]})},P=function(e){var t=e.counter;return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:t.key}),Object(E.jsx)("td",{children:t.counter}),Object(E.jsx)("td",{children:t.group})]})},z=function(e){var t=e.title,n=e.selectorCode;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"title",children:t}),Object(E.jsx)("div",{children:Object(E.jsx)("pre",{children:n})})]})},D=function(){var e=F(q);return Object(E.jsxs)("div",{children:[Object(E.jsx)(z,{title:"Simple Selector Test",selectorCode:String.raw(r||(r=Object(B.a)(["const simpleSelector = (state: RootState) => {\n  return state.counters.counters\n}"])))}),Object(E.jsx)(J,{}),Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("div",{className:"column",children:Object(E.jsx)(L,{children:null===e||void 0===e?void 0:e.filter((function(e){return"a"===e.group})).map((function(e){return Object(E.jsx)(P,{counter:e},e.key)}))})}),Object(E.jsx)("div",{className:"column",children:Object(E.jsx)(L,{children:null===e||void 0===e?void 0:e.filter((function(e){return"b"===e.group})).map((function(e){return Object(E.jsx)(P,{counter:e},e.key)}))})})]})]})},q=function(e){return e.counters.counters},H=function(){var e=F(Q),t=F(U);return Object(E.jsxs)("div",{children:[Object(E.jsx)(z,{title:"Computed Selector Test",selectorCode:String.raw(c||(c=Object(B.a)(["const groupASelector = (state: RootState) => {\n  return state.counters.counters.filter(c => c.group === 'a')\n}\n\nconst groupBSelector = (state: RootState) => {\n  return state.counters.counters.filter(c => c.group === 'b')\n}"])))}),Object(E.jsx)(J,{}),Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("div",{className:"column",children:Object(E.jsx)(L,{children:null===e||void 0===e?void 0:e.map((function(e){return Object(E.jsx)(P,{counter:e},e.key)}))})}),Object(E.jsx)("div",{className:"column",children:Object(E.jsx)(L,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(E.jsx)(P,{counter:e},e.key)}))})})]})]})},Q=function(e){return e.counters.counters.filter((function(e){return"a"===e.group}))},U=function(e){return e.counters.counters.filter((function(e){return"b"===e.group}))},V=n(14),W=function(){var e=F(X),t=F(Y);return Object(E.jsxs)("div",{children:[Object(E.jsx)(z,{title:"Reselect Selector Test",selectorCode:String.raw(o||(o=Object(B.a)(["const groupASelector = createSelector(\n  getAllCounters,\n  (selectors) => (selectors.filter(c => c.group === 'a'))\n)\n\nconst groupBSelector = createSelector(\n  getAllCounters,\n  (selectors) => (selectors.filter(c => c.group === 'b'))\n)"])))}),Object(E.jsx)(J,{}),Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("div",{className:"column",children:Object(E.jsx)(L,{children:null===e||void 0===e?void 0:e.map((function(e){return Object(E.jsx)(P,{counter:e},e.key)}))})}),Object(E.jsx)("div",{className:"column",children:Object(E.jsx)(L,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(E.jsx)(P,{counter:e},e.key)}))})})]})]})},X=Object(V.a)(k,(function(e){return e.filter((function(e){return"a"===e.group}))})),Y=Object(V.a)(k,(function(e){return e.filter((function(e){return"b"===e.group}))})),Z=function(e){var t=e.counterKey,n=e.selector,r=F(n(t));return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:null===r||void 0===r?void 0:r.key}),Object(E.jsx)("td",{children:null===r||void 0===r?void 0:r.counter}),Object(E.jsx)("td",{children:null===r||void 0===r?void 0:r.group})]})},$=function(){var e=_("a"),t=_("b"),n=F(e),r=F(t);return Object(E.jsxs)("div",{children:[Object(E.jsx)(z,{title:"Curried Selector Test",selectorCode:String.raw(s||(s=Object(B.a)(["const makeGroupSelector = (group: string) => (state: RootState) => {\n  return state.counters.counters.filter(c => c.group === group)\n}"])))}),Object(E.jsx)(J,{}),Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("div",{className:"column",children:Object(E.jsx)(L,{children:null===n||void 0===n?void 0:n.map((function(e){return Object(E.jsx)(Z,{counterKey:e.key,selector:ee},e.key)}))})}),Object(E.jsx)("div",{className:"column",children:Object(E.jsx)(L,{children:null===r||void 0===r?void 0:r.map((function(e){return Object(E.jsx)(Z,{counterKey:e.key,selector:ee},e.key)}))})})]})]})},_=function(e){return function(t){return t.counters.counters.filter((function(t){return t.group===e}))}},ee=function(e){return function(t){return t.counters.counters.find((function(t){return t.key===e}))}},te=function(){var e=re("a"),t=re("b"),n=F(e),r=F(t);return Object(E.jsxs)("div",{children:[Object(E.jsx)(z,{title:"Curried Selector Test",selectorCode:String.raw(u||(u=Object(B.a)(["const makeGroupSelector = (group: string) => {\n  return createSelector(\n    getAllCounters,\n    (selectors) => (selectors.filter(c => c.group === group))\n  )\n}\n\nconst makeCounterSelector = (key: string) => {\n  return createSelector(\n    getAllCounters,\n    (selectors) => (selectors.find(c => c.key === key))\n  )\n}"])))}),Object(E.jsx)(J,{}),Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("div",{className:"column",children:Object(E.jsx)(L,{children:null===n||void 0===n?void 0:n.map((function(e){return Object(E.jsx)(ne,{counterKey:e.key},e.key)}))})}),Object(E.jsx)("div",{className:"column",children:Object(E.jsx)(L,{children:null===r||void 0===r?void 0:r.map((function(e){return Object(E.jsx)(ne,{counterKey:e.key},e.key)}))})})]})]})},ne=function(e){var t=e.counterKey,n=F(ce(t));return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:null===n||void 0===n?void 0:n.key}),Object(E.jsx)("td",{children:null===n||void 0===n?void 0:n.counter}),Object(E.jsx)("td",{children:null===n||void 0===n?void 0:n.group})]})},re=function(e){return Object(V.a)(k,(function(t){return t.filter((function(t){return t.group===e}))}))},ce=function(e){return Object(V.a)(k,(function(t){return t.find((function(t){return t.key===e}))}))},oe=n(16),se=n.n(oe),ue=function(){var e=F(le)("a"),t=F(le)("b");return Object(E.jsxs)("div",{children:[Object(E.jsx)(z,{title:"Reversed Curried Selector Test",selectorCode:String.raw(i||(i=Object(B.a)(["const makeGroupSelector = (group: string) => {\n  return createSelector(\n    getAllCounters,\n    (selectors) => (selectors.filter(c => c.group === group))\n  )\n}\n\nconst makeCounterSelector = (key: string) => {\n  return createSelector(\n    getAllCounters,\n    (selectors) => (selectors.find(c => c.key === key))\n  )\n}"])))}),Object(E.jsx)(J,{}),Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("div",{className:"column",children:Object(E.jsx)(L,{children:null===e||void 0===e?void 0:e.map((function(e){return Object(E.jsx)(ie,{counterKey:e.key},e.key)}))})}),Object(E.jsx)("div",{className:"column",children:Object(E.jsx)(L,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(E.jsx)(ie,{counterKey:e.key},e.key)}))})})]})]})},ie=function(e){var t=e.counterKey,n=F(ae)(t);return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:null===n||void 0===n?void 0:n.key}),Object(E.jsx)("td",{children:null===n||void 0===n?void 0:n.counter}),Object(E.jsx)("td",{children:null===n||void 0===n?void 0:n.group})]})},le=Object(V.a)(k,(function(e){return se()((function(t){return e.filter((function(e){return e.group===t}))}))})),ae=Object(V.a)(k,(function(e){return se()((function(t){return e.find((function(e){return e.key===t}))}),(function(e){return e}))})),je=function(){var e=be("a"),t=be("b"),n=F(e),r=F(t);return Object(E.jsxs)("div",{children:[Object(E.jsx)(z,{title:"Sudo state Reselect Test",selectorCode:String.raw(l||(l=Object(B.a)(["const makeGroupSelector = (group: string) => {\n  return createSelector(\n    state => (group),\n    getAllCounters,\n    (g, selectors) => (selectors.filter(c => c.group === g))\n  )\n}\n\nconst makeCounterSelector = (key: string) => {\n  return createSelector(\n    state => (key),\n    getAllCounters,\n    (k, selectors) => (selectors.find(c => c.key === k))\n  )\n}\n"])))}),Object(E.jsx)(J,{}),Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("div",{className:"column",children:Object(E.jsx)(L,{children:null===n||void 0===n?void 0:n.map((function(e){return Object(E.jsx)(de,{counterKey:e.key},e.key)}))})}),Object(E.jsx)("div",{className:"column",children:Object(E.jsx)(L,{children:null===r||void 0===r?void 0:r.map((function(e){return Object(E.jsx)(de,{counterKey:e.key},e.key)}))})})]})]})},de=function(e){var t=e.counterKey,n=F(Oe(t));return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:null===n||void 0===n?void 0:n.key}),Object(E.jsx)("td",{children:null===n||void 0===n?void 0:n.counter}),Object(E.jsx)("td",{children:null===n||void 0===n?void 0:n.group})]})},be=function(e){return Object(V.a)((function(t){return e}),k,(function(e,t){return t.filter((function(t){return t.group===e}))}))},Oe=function(e){return Object(V.a)((function(t){return e}),k,(function(e,t){return t.find((function(t){return t.key===e}))}))},he=function(){var e=ve("a"),t=ve("b"),n=F(e),r=F(t);return Object(E.jsxs)("div",{children:[Object(E.jsx)(z,{title:"Custom Reselect Test",selectorCode:String.raw(a||(a=Object(B.a)(["\nconst customSelectorCreator = createSelectorCreator(memoize as any, hashFn)\n\nconst makeGroupSelector = (group: string) => {\n  return customSelectorCreator(\n    getAllCounters,\n    (selectors) => (selectors.filter(c => c.group === group))\n  )\n}\n\nconst makeCounterSelector = (key: string) => {\n  return customSelectorCreator(\n    getAllCounters,\n    (selectors) => (selectors.find(c => c.key === key))\n  )\n}\n"])))}),Object(E.jsx)(J,{}),Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("div",{className:"column",children:Object(E.jsx)(L,{children:null===n||void 0===n?void 0:n.map((function(e){return Object(E.jsx)(fe,{counterKey:e.key},e.key)}))})}),Object(E.jsx)("div",{className:"column",children:Object(E.jsx)(L,{children:null===r||void 0===r?void 0:r.map((function(e){return Object(E.jsx)(fe,{counterKey:e.key},e.key)}))})})]})]})},fe=function(e){var t=e.counterKey,n=F(pe(t));return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:null===n||void 0===n?void 0:n.key}),Object(E.jsx)("td",{children:null===n||void 0===n?void 0:n.counter}),Object(E.jsx)("td",{children:null===n||void 0===n?void 0:n.group})]})},xe=Object(V.b)(se.a,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return"".concat(e,"-").concat(JSON.stringify(t))}),"")})),ve=function(e){return xe(k,(function(t){return t.filter((function(t){return t.group===e}))}))},pe=function(e){return xe(k,(function(t){return t.find((function(t){return t.key===e}))}))},me=function(){return Object(E.jsxs)("div",{className:"page",children:[Object(E.jsx)("h2",{children:"Redux Selector Test Bench"}),Object(E.jsx)("p",{children:"This is a test site to try and determine the behaviour of selectors and curried selectors in javascript memory and performance. Each button across the top is a different style of implementing a selector. These are NOT good examples to copy as the point is to understand the behaviour rather than be correct."}),Object(E.jsxs)("p",{children:["The source code can be found at ",Object(E.jsx)("a",{href:"https://github.com/blacktau/selector-tests",children:"https://github.com/blacktau/selector-tests"})]})]})};var ge=function(){return Object(E.jsx)(h.a,{store:I,children:Object(E.jsxs)(f.a,{basename:"selector-tests",children:[Object(E.jsxs)("header",{children:[Object(E.jsx)("div",{className:"logo",children:"Redux Selector Test Bench"}),Object(E.jsx)("nav",{children:Object(E.jsxs)("ol",{children:[Object(E.jsx)("li",{children:Object(E.jsx)(f.b,{to:"/simple",children:"Simple"})}),Object(E.jsx)("li",{children:Object(E.jsx)(f.b,{to:"/computed",children:"Computed"})}),Object(E.jsx)("li",{children:Object(E.jsx)(f.b,{to:"/reselect",children:"Reselect"})}),Object(E.jsx)("li",{children:Object(E.jsx)(f.b,{to:"/curried",children:"Curried"})}),Object(E.jsx)("li",{children:Object(E.jsx)(f.b,{to:"/curried-reselect",children:"Curried Reselect"})}),Object(E.jsx)("li",{children:Object(E.jsx)(f.b,{to:"/reverse-curried-reselect",children:"Reverse Curried Reselect"})}),Object(E.jsx)("li",{children:Object(E.jsx)(f.b,{to:"/custom-reselect",children:"Custom Reselect"})})]})})]}),Object(E.jsxs)(x.c,{children:[Object(E.jsx)(x.a,{exact:!0,path:"/",children:Object(E.jsx)(me,{})}),Object(E.jsx)(x.a,{exact:!0,path:"/simple",children:Object(E.jsx)(D,{})}),Object(E.jsx)(x.a,{exact:!0,path:"/computed",children:Object(E.jsx)(H,{})}),Object(E.jsx)(x.a,{exact:!0,path:"/reselect",children:Object(E.jsx)(W,{})}),Object(E.jsx)(x.a,{exact:!0,path:"/curried",children:Object(E.jsx)($,{})}),Object(E.jsx)(x.a,{exact:!0,path:"/curried-reselect",children:Object(E.jsx)(te,{})}),Object(E.jsx)(x.a,{exact:!0,path:"/reverse-curried-reselect",children:Object(E.jsx)(ue,{})}),Object(E.jsx)(x.a,{exact:!0,path:"/sudo-reselect",children:Object(E.jsx)(je,{})}),Object(E.jsx)(x.a,{exact:!0,path:"/custom-reselect",children:Object(E.jsx)(he,{})})]})]})})},ke=function(e){null!=e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),o(e),s(e)}))};O.a.render(Object(E.jsx)(d.a.StrictMode,{children:Object(E.jsx)(ge,{})}),document.getElementById("root")),ke()}},[[79,1,2]]]);
//# sourceMappingURL=main.cf3fac2b.chunk.js.map